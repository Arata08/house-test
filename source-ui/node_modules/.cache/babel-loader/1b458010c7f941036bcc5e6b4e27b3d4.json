{"remainingRequest":"D:\\WD\\study\\微信小程序\\house-master (1)\\source-vue-ui-master\\source-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\WD\\study\\微信小程序\\house-master (1)\\source-vue-ui-master\\source-ui\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\WD\\study\\微信小程序\\house-master (1)\\source-vue-ui-master\\source-ui\\src\\store\\modules\\permission.js","dependencies":[{"path":"D:\\WD\\study\\微信小程序\\house-master (1)\\source-vue-ui-master\\source-ui\\src\\store\\modules\\permission.js","mtime":1711629746000},{"path":"D:\\WD\\study\\微信小程序\\house-master (1)\\source-vue-ui-master\\source-ui\\babel.config.js","mtime":1711629746000},{"path":"D:\\WD\\study\\微信小程序\\house-master (1)\\source-vue-ui-master\\source-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1713447874049},{"path":"D:\\WD\\study\\微信小程序\\house-master (1)\\source-vue-ui-master\\source-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1713447933757},{"path":"D:\\WD\\study\\微信小程序\\house-master (1)\\source-vue-ui-master\\source-ui\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":1713447906556}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkMyA9IHJlcXVpcmUoIkQ6L1dEL3N0dWR5L1x1NUZBRVx1NEZFMVx1NUMwRlx1N0EwQlx1NUU4Ri9ob3VzZS1tYXN0ZXIgKDEpL3NvdXJjZS12dWUtdWktbWFzdGVyL3NvdXJjZS11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkLmpzIikuZGVmYXVsdDsKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOi9XRC9zdHVkeS9cdTVGQUVcdTRGRTFcdTVDMEZcdTdBMEJcdTVFOEYvaG91c2UtbWFzdGVyICgxKS9zb3VyY2UtdnVlLXVpLW1hc3Rlci9zb3VyY2UtdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIikuZGVmYXVsdDsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CmV4cG9ydHMuZmlsdGVyRHluYW1pY1JvdXRlcyA9IGZpbHRlckR5bmFtaWNSb3V0ZXM7CmV4cG9ydHMubG9hZFZpZXcgPSB2b2lkIDA7CnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkQ6L1dEL3N0dWR5L1x1NUZBRVx1NEZFMVx1NUMwRlx1N0EwQlx1NUU4Ri9ob3VzZS1tYXN0ZXIgKDEpL3NvdXJjZS12dWUtdWktbWFzdGVyL3NvdXJjZS11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkLmpzIikpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyIpOwp2YXIgX2F1dGggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkAvcGx1Z2lucy9hdXRoIikpOwp2YXIgX3JvdXRlciA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkMyhyZXF1aXJlKCJAL3JvdXRlciIpKTsKdmFyIF9tZW51ID0gcmVxdWlyZSgiQC9hcGkvbWVudSIpOwp2YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAL2xheW91dC9pbmRleCIpKTsKdmFyIF9QYXJlbnRWaWV3ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAL2NvbXBvbmVudHMvUGFyZW50VmlldyIpKTsKdmFyIF9Jbm5lckxpbmsgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkAvbGF5b3V0L2NvbXBvbmVudHMvSW5uZXJMaW5rIikpOwp2YXIgcGVybWlzc2lvbiA9IHsKICBzdGF0ZTogewogICAgcm91dGVzOiBbXSwKICAgIGFkZFJvdXRlczogW10sCiAgICBkZWZhdWx0Um91dGVzOiBbXSwKICAgIHRvcGJhclJvdXRlcnM6IFtdLAogICAgc2lkZWJhclJvdXRlcnM6IFtdCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIFNFVF9ST1VURVM6IGZ1bmN0aW9uIFNFVF9ST1VURVMoc3RhdGUsIHJvdXRlcykgewogICAgICBzdGF0ZS5hZGRSb3V0ZXMgPSByb3V0ZXM7CiAgICAgIHN0YXRlLnJvdXRlcyA9IF9yb3V0ZXIuY29uc3RhbnRSb3V0ZXMuY29uY2F0KHJvdXRlcyk7CiAgICB9LAogICAgU0VUX0RFRkFVTFRfUk9VVEVTOiBmdW5jdGlvbiBTRVRfREVGQVVMVF9ST1VURVMoc3RhdGUsIHJvdXRlcykgewogICAgICBzdGF0ZS5kZWZhdWx0Um91dGVzID0gX3JvdXRlci5jb25zdGFudFJvdXRlcy5jb25jYXQocm91dGVzKTsKICAgIH0sCiAgICBTRVRfVE9QQkFSX1JPVVRFUzogZnVuY3Rpb24gU0VUX1RPUEJBUl9ST1VURVMoc3RhdGUsIHJvdXRlcykgewogICAgICAvLyDpobbpg6jlr7zoiKroj5zljZXpu5jorqTmt7vliqDnu5/orqHmiqXooajmoI/mjIflkJHpppbpobUKICAgICAgdmFyIGluZGV4ID0gW3sKICAgICAgICBwYXRoOiAnaW5kZXgnLAogICAgICAgIG1ldGE6IHsKICAgICAgICAgIHRpdGxlOiAn57uf6K6h5oql6KGoJywKICAgICAgICAgIGljb246ICdkYXNoYm9hcmQnCiAgICAgICAgfQogICAgICB9XTsKICAgICAgc3RhdGUudG9wYmFyUm91dGVycyA9IHJvdXRlcy5jb25jYXQoaW5kZXgpOwogICAgfSwKICAgIFNFVF9TSURFQkFSX1JPVVRFUlM6IGZ1bmN0aW9uIFNFVF9TSURFQkFSX1JPVVRFUlMoc3RhdGUsIHJvdXRlcykgewogICAgICBzdGF0ZS5zaWRlYmFyUm91dGVycyA9IHJvdXRlczsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIC8vIOeUn+aIkOi3r+eUsQogICAgR2VuZXJhdGVSb3V0ZXM6IGZ1bmN0aW9uIEdlbmVyYXRlUm91dGVzKF9yZWYpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAvLyDlkJHlkI7nq6/or7fmsYLot6/nlLHmlbDmja4KICAgICAgICAoMCwgX21lbnUuZ2V0Um91dGVycykoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIHZhciBzZGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzLmRhdGEpKTsKICAgICAgICAgIHZhciByZGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzLmRhdGEpKTsKICAgICAgICAgIHZhciBzaWRlYmFyUm91dGVzID0gZmlsdGVyQXN5bmNSb3V0ZXIoc2RhdGEpOwogICAgICAgICAgdmFyIHJld3JpdGVSb3V0ZXMgPSBmaWx0ZXJBc3luY1JvdXRlcihyZGF0YSwgZmFsc2UsIHRydWUpOwogICAgICAgICAgdmFyIGFzeW5jUm91dGVzID0gZmlsdGVyRHluYW1pY1JvdXRlcyhfcm91dGVyLmR5bmFtaWNSb3V0ZXMpOwogICAgICAgICAgcmV3cml0ZVJvdXRlcy5wdXNoKHsKICAgICAgICAgICAgcGF0aDogJyonLAogICAgICAgICAgICByZWRpcmVjdDogJy80MDQnLAogICAgICAgICAgICBoaWRkZW46IHRydWUKICAgICAgICAgIH0pOwogICAgICAgICAgX3JvdXRlci5kZWZhdWx0LmFkZFJvdXRlcyhhc3luY1JvdXRlcyk7CiAgICAgICAgICBjb21taXQoJ1NFVF9ST1VURVMnLCByZXdyaXRlUm91dGVzKTsKICAgICAgICAgIGNvbW1pdCgnU0VUX1NJREVCQVJfUk9VVEVSUycsIF9yb3V0ZXIuY29uc3RhbnRSb3V0ZXMuY29uY2F0KHNpZGViYXJSb3V0ZXMpKTsKICAgICAgICAgIGNvbW1pdCgnU0VUX0RFRkFVTFRfUk9VVEVTJywgc2lkZWJhclJvdXRlcyk7CiAgICAgICAgICBjb21taXQoJ1NFVF9UT1BCQVJfUk9VVEVTJywgc2lkZWJhclJvdXRlcyk7CiAgICAgICAgICByZXNvbHZlKHJld3JpdGVSb3V0ZXMpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9Cn07CgovLyDpgY3ljoblkI7lj7DkvKDmnaXnmoTot6/nlLHlrZfnrKbkuLLvvIzovazmjaLkuLrnu4Tku7blr7nosaEKZnVuY3Rpb24gZmlsdGVyQXN5bmNSb3V0ZXIoYXN5bmNSb3V0ZXJNYXApIHsKICB2YXIgbGFzdFJvdXRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7CiAgdmFyIHR5cGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlOwogIHJldHVybiBhc3luY1JvdXRlck1hcC5maWx0ZXIoZnVuY3Rpb24gKHJvdXRlKSB7CiAgICBpZiAodHlwZSAmJiByb3V0ZS5jaGlsZHJlbikgewogICAgICByb3V0ZS5jaGlsZHJlbiA9IGZpbHRlckNoaWxkcmVuKHJvdXRlLmNoaWxkcmVuKTsKICAgIH0KICAgIGlmIChyb3V0ZS5jb21wb25lbnQpIHsKICAgICAgLy8gTGF5b3V0IFBhcmVudFZpZXcg57uE5Lu254m55q6K5aSE55CGCiAgICAgIGlmIChyb3V0ZS5jb21wb25lbnQgPT09ICdMYXlvdXQnKSB7CiAgICAgICAgcm91dGUuY29tcG9uZW50ID0gX2luZGV4LmRlZmF1bHQ7CiAgICAgIH0gZWxzZSBpZiAocm91dGUuY29tcG9uZW50ID09PSAnUGFyZW50VmlldycpIHsKICAgICAgICByb3V0ZS5jb21wb25lbnQgPSBfUGFyZW50Vmlldy5kZWZhdWx0OwogICAgICB9IGVsc2UgaWYgKHJvdXRlLmNvbXBvbmVudCA9PT0gJ0lubmVyTGluaycpIHsKICAgICAgICByb3V0ZS5jb21wb25lbnQgPSBfSW5uZXJMaW5rLmRlZmF1bHQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcm91dGUuY29tcG9uZW50ID0gbG9hZFZpZXcocm91dGUuY29tcG9uZW50KTsKICAgICAgfQogICAgfQogICAgaWYgKHJvdXRlLmNoaWxkcmVuICE9IG51bGwgJiYgcm91dGUuY2hpbGRyZW4gJiYgcm91dGUuY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgIHJvdXRlLmNoaWxkcmVuID0gZmlsdGVyQXN5bmNSb3V0ZXIocm91dGUuY2hpbGRyZW4sIHJvdXRlLCB0eXBlKTsKICAgIH0gZWxzZSB7CiAgICAgIGRlbGV0ZSByb3V0ZVsnY2hpbGRyZW4nXTsKICAgICAgZGVsZXRlIHJvdXRlWydyZWRpcmVjdCddOwogICAgfQogICAgcmV0dXJuIHRydWU7CiAgfSk7Cn0KZnVuY3Rpb24gZmlsdGVyQ2hpbGRyZW4oY2hpbGRyZW5NYXApIHsKICB2YXIgbGFzdFJvdXRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7CiAgdmFyIGNoaWxkcmVuID0gW107CiAgY2hpbGRyZW5NYXAuZm9yRWFjaChmdW5jdGlvbiAoZWwsIGluZGV4KSB7CiAgICBpZiAoZWwuY2hpbGRyZW4gJiYgZWwuY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgIGlmIChlbC5jb21wb25lbnQgPT09ICdQYXJlbnRWaWV3JyAmJiAhbGFzdFJvdXRlcikgewogICAgICAgIGVsLmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGMpIHsKICAgICAgICAgIGMucGF0aCA9IGVsLnBhdGggKyAnLycgKyBjLnBhdGg7CiAgICAgICAgICBpZiAoYy5jaGlsZHJlbiAmJiBjLmNoaWxkcmVuLmxlbmd0aCkgewogICAgICAgICAgICBjaGlsZHJlbiA9IGNoaWxkcmVuLmNvbmNhdChmaWx0ZXJDaGlsZHJlbihjLmNoaWxkcmVuLCBjKSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICAgIGNoaWxkcmVuLnB1c2goYyk7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICB9CiAgICBpZiAobGFzdFJvdXRlcikgewogICAgICBlbC5wYXRoID0gbGFzdFJvdXRlci5wYXRoICsgJy8nICsgZWwucGF0aDsKICAgIH0KICAgIGNoaWxkcmVuID0gY2hpbGRyZW4uY29uY2F0KGVsKTsKICB9KTsKICByZXR1cm4gY2hpbGRyZW47Cn0KCi8vIOWKqOaAgei3r+eUsemBjeWOhu+8jOmqjOivgeaYr+WQpuWFt+Wkh+adg+mZkApmdW5jdGlvbiBmaWx0ZXJEeW5hbWljUm91dGVzKHJvdXRlcykgewogIHZhciByZXMgPSBbXTsKICByb3V0ZXMuZm9yRWFjaChmdW5jdGlvbiAocm91dGUpIHsKICAgIGlmIChyb3V0ZS5wZXJtaXNzaW9ucykgewogICAgICBpZiAoX2F1dGguZGVmYXVsdC5oYXNQZXJtaU9yKHJvdXRlLnBlcm1pc3Npb25zKSkgewogICAgICAgIHJlcy5wdXNoKHJvdXRlKTsKICAgICAgfQogICAgfSBlbHNlIGlmIChyb3V0ZS5yb2xlcykgewogICAgICBpZiAoX2F1dGguZGVmYXVsdC5oYXNSb2xlT3Iocm91dGUucm9sZXMpKSB7CiAgICAgICAgcmVzLnB1c2gocm91dGUpOwogICAgICB9CiAgICB9CiAgfSk7CiAgcmV0dXJuIHJlczsKfQp2YXIgbG9hZFZpZXcgPSBleHBvcnRzLmxvYWRWaWV3ID0gZnVuY3Rpb24gbG9hZFZpZXcodmlldykgewogIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JykgewogICAgcmV0dXJuIGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgIHJldHVybiByZXF1aXJlKFsiQC92aWV3cy8iLmNvbmNhdCh2aWV3KV0sIHJlc29sdmUpOwogICAgfTsKICB9IGVsc2UgewogICAgLy8g5L2/55SoIGltcG9ydCDlrp7njrDnlJ/kuqfnjq/looPnmoTot6/nlLHmh5LliqDovb0KICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoc3BlY2lmaWVyKSB7CiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyKSB7CiAgICAgICAgICByZXR1cm4gcihzcGVjaWZpZXIpOwogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHMpIHsKICAgICAgICAgIHJldHVybiAoMCwgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQyLmRlZmF1bHQpKHJlcXVpcmUocykpOwogICAgICAgIH0pOwogICAgICB9KCJAL3ZpZXdzLyIuY29uY2F0KHZpZXcpKTsKICAgIH07CiAgfQp9Owp2YXIgX2RlZmF1bHQgPSBleHBvcnRzLmRlZmF1bHQgPSBwZXJtaXNzaW9uOw=="},{"version":3,"names":["_auth","_interopRequireDefault","require","_router","_interopRequireWildcard3","_menu","_index","_ParentView","_InnerLink","permission","state","routes","addRoutes","defaultRoutes","topbarRouters","sidebarRouters","mutations","SET_ROUTES","constantRoutes","concat","SET_DEFAULT_ROUTES","SET_TOPBAR_ROUTES","index","path","meta","title","icon","SET_SIDEBAR_ROUTERS","actions","GenerateRoutes","_ref","commit","Promise","resolve","getRouters","then","res","sdata","JSON","parse","stringify","data","rdata","sidebarRoutes","filterAsyncRouter","rewriteRoutes","asyncRoutes","filterDynamicRoutes","dynamicRoutes","push","redirect","hidden","router","asyncRouterMap","lastRouter","arguments","length","undefined","type","filter","route","children","filterChildren","component","Layout","ParentView","InnerLink","loadView","childrenMap","forEach","el","c","permissions","auth","hasPermiOr","roles","hasRoleOr","exports","view","process","env","NODE_ENV","specifier","r","s","_interopRequireWildcard2","default","_default"],"sources":["D:/WD/study/微信小程序/house-master (1)/source-vue-ui-master/source-ui/src/store/modules/permission.js"],"sourcesContent":["import auth from '@/plugins/auth'\nimport router, { constantRoutes, dynamicRoutes } from '@/router'\nimport { getRouters } from '@/api/menu'\nimport Layout from '@/layout/index'\nimport ParentView from '@/components/ParentView'\nimport InnerLink from '@/layout/components/InnerLink'\n\nconst permission = {\n  state: {\n    routes: [],\n    addRoutes: [],\n    defaultRoutes: [],\n    topbarRouters: [],\n    sidebarRouters: []\n  },\n  mutations: {\n    SET_ROUTES: (state, routes) => {\n      state.addRoutes = routes\n      state.routes = constantRoutes.concat(routes)\n    },\n    SET_DEFAULT_ROUTES: (state, routes) => {\n      state.defaultRoutes = constantRoutes.concat(routes)\n    },\n    SET_TOPBAR_ROUTES: (state, routes) => {\n      // 顶部导航菜单默认添加统计报表栏指向首页\n      const index = [{\n        path: 'index',\n        meta: { title: '统计报表', icon: 'dashboard' }\n      }]\n      state.topbarRouters = routes.concat(index);\n    },\n    SET_SIDEBAR_ROUTERS: (state, routes) => {\n      state.sidebarRouters = routes\n    },\n  },\n  actions: {\n    // 生成路由\n    GenerateRoutes({ commit }) {\n      return new Promise(resolve => {\n        // 向后端请求路由数据\n        getRouters().then(res => {\n          const sdata = JSON.parse(JSON.stringify(res.data))\n          const rdata = JSON.parse(JSON.stringify(res.data))\n          const sidebarRoutes = filterAsyncRouter(sdata)\n          const rewriteRoutes = filterAsyncRouter(rdata, false, true)\n          const asyncRoutes = filterDynamicRoutes(dynamicRoutes);\n          rewriteRoutes.push({ path: '*', redirect: '/404', hidden: true })\n          router.addRoutes(asyncRoutes);\n          commit('SET_ROUTES', rewriteRoutes)\n          commit('SET_SIDEBAR_ROUTERS', constantRoutes.concat(sidebarRoutes))\n          commit('SET_DEFAULT_ROUTES', sidebarRoutes)\n          commit('SET_TOPBAR_ROUTES', sidebarRoutes)\n          resolve(rewriteRoutes)\n        })\n      })\n    }\n  }\n}\n\n// 遍历后台传来的路由字符串，转换为组件对象\nfunction filterAsyncRouter(asyncRouterMap, lastRouter = false, type = false) {\n  return asyncRouterMap.filter(route => {\n    if (type && route.children) {\n      route.children = filterChildren(route.children)\n    }\n    if (route.component) {\n      // Layout ParentView 组件特殊处理\n      if (route.component === 'Layout') {\n        route.component = Layout\n      } else if (route.component === 'ParentView') {\n        route.component = ParentView\n      } else if (route.component === 'InnerLink') {\n        route.component = InnerLink\n      } else {\n        route.component = loadView(route.component)\n      }\n    }\n    if (route.children != null && route.children && route.children.length) {\n      route.children = filterAsyncRouter(route.children, route, type)\n    } else {\n      delete route['children']\n      delete route['redirect']\n    }\n    return true\n  })\n}\n\nfunction filterChildren(childrenMap, lastRouter = false) {\n  var children = []\n  childrenMap.forEach((el, index) => {\n    if (el.children && el.children.length) {\n      if (el.component === 'ParentView' && !lastRouter) {\n        el.children.forEach(c => {\n          c.path = el.path + '/' + c.path\n          if (c.children && c.children.length) {\n            children = children.concat(filterChildren(c.children, c))\n            return\n          }\n          children.push(c)\n        })\n        return\n      }\n    }\n    if (lastRouter) {\n      el.path = lastRouter.path + '/' + el.path\n    }\n    children = children.concat(el)\n  })\n  return children\n}\n\n// 动态路由遍历，验证是否具备权限\nexport function filterDynamicRoutes(routes) {\n  const res = []\n  routes.forEach(route => {\n    if (route.permissions) {\n      if (auth.hasPermiOr(route.permissions)) {\n        res.push(route)\n      }\n    } else if (route.roles) {\n      if (auth.hasRoleOr(route.roles)) {\n        res.push(route)\n      }\n    }\n  })\n  return res\n}\n\nexport const loadView = (view) => {\n  if (process.env.NODE_ENV === 'development') {\n    return (resolve) => require([`@/views/${view}`], resolve)\n  } else {\n    // 使用 import 实现生产环境的路由懒加载\n    return () => import(`@/views/${view}`)\n  }\n}\n\nexport default permission\n"],"mappings":"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","ignoreList":[]}]}